(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7068)}])},4478:function(e,n,r){"use strict";r.d(n,{O:function(){return a}});var t=r(6490);let a=(0,t.eI)("https://uhseqzovowlatskxmbha.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVoc2Vxem92b3dsYXRza3htYmhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI3OTI3OTQsImV4cCI6MjA0ODM2ODc5NH0.KDLOzv0IiURzesIMdWLto2yXG1qqSmCBddXWf554MXI")},7068:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Home}});var t=r(5893),a=r(7294),i=r(1163);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...e)=>e.filter((e,n,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:i="",children:s,iconNode:d,...c},l)=>(0,a.createElement)("svg",{ref:l,...o,width:n,height:n,stroke:e,strokeWidth:t?24*Number(r)/Number(n):r,className:mergeClasses("lucide",i),...c},[...d.map(([e,n])=>(0,a.createElement)(e,n)),...Array.isArray(s)?s:[s]])),createLucideIcon=(e,n)=>{let r=(0,a.forwardRef)(({className:r,...t},i)=>(0,a.createElement)(s,{ref:i,iconNode:n,className:mergeClasses(`lucide-${toKebabCase(e)}`,r),...t}));return r.displayName=`${e}`,r},d=createLucideIcon("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]),c=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),l=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),m=createLucideIcon("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);var h=r(4478);function Home(){let[e,n]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),s=(0,i.useRouter)(),handleCreate=async()=>{if(!e)return alert("Please enter a username");try{let{data:n,error:r}=await h.O.auth.signInAnonymously();if(r)throw r;if(!n.user)throw Error("No user data returned");let t=Math.random().toString(36).substring(2,8).toUpperCase(),{error:a}=await h.O.from("games").insert({code:t,creator_id:n.user.id,players:[{id:n.user.id,username:e,x:0,y:0}],state:{status:"waiting"}});if(a)throw a;s.push("/lobby/".concat(t))}catch(e){console.error("Error creating game:",e.message),alert("Failed to create game: "+e.message)}},handleJoin=async()=>{if(!e||!r)return alert("Please enter username and code");try{let{data:n,error:t}=await h.O.auth.signInAnonymously();if(t)throw t;if(!n.user)throw Error("No user data returned");let{data:a,error:i}=await h.O.from("games").select("*").eq("code",r).single();if(i)throw i;if(!a)throw Error("Game not found");if(a.players.length<10){let{error:t}=await h.O.from("games").update({players:[...a.players,{id:n.user.id,username:e,x:0,y:0}]}).eq("code",r);if(t)throw t;s.push("/lobby/".concat(r))}else alert("Game is full")}catch(e){console.error("Error joining game:",e.message),alert("Failed to join game: "+e.message)}};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"card-wrapper",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)(d,{className:"game-icon"}),(0,t.jsx)("h1",{children:"Hide & Seek"})]}),(0,t.jsxs)("div",{className:"form",children:[(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("div",{className:"input-icon",children:(0,t.jsx)(c,{})}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),placeholder:"Enter username"})]}),(0,t.jsxs)("button",{className:"button create-button",onClick:handleCreate,children:[(0,t.jsx)(l,{}),(0,t.jsx)("span",{children:"Create New Game"})]}),(0,t.jsx)("div",{className:"divider",children:(0,t.jsx)("span",{children:"or"})}),(0,t.jsx)("div",{className:"input-wrapper",children:(0,t.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value.toUpperCase()),placeholder:"Enter game code",maxLength:6,className:"code-input"})}),(0,t.jsxs)("button",{className:"button join-button",onClick:handleJoin,children:[(0,t.jsx)(m,{}),(0,t.jsx)("span",{children:"Join Game"})]})]})]}),(0,t.jsx)("p",{className:"footer",children:"Join the fun! Create a new game or enter a code to join an existing one."})]}),(0,t.jsx)("style",{children:"\n        .container {\n          min-height: 100vh;\n          background: linear-gradient(135deg, #6366f1, #a855f7, #ec4899);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n          font-family: system-ui, -apple-system, sans-serif;\n        }\n\n        .card-wrapper {\n          width: 100%;\n          max-width: 28rem;\n        }\n\n        .card {\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(12px);\n          border-radius: 1.5rem;\n          padding: 2rem;\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .header {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.75rem;\n          margin-bottom: 2rem;\n        }\n\n        .header h1 {\n          font-size: 2.5rem;\n          font-weight: bold;\n          color: white;\n          margin: 0;\n        }\n\n        .game-icon {\n          width: 2.5rem;\n          height: 2.5rem;\n          color: white;\n        }\n\n        .form {\n          display: flex;\n          flex-direction: column;\n          gap: 1.5rem;\n        }\n\n        .input-wrapper {\n          position: relative;\n        }\n\n        .input-icon {\n          position: absolute;\n          left: 0.75rem;\n          top: 50%;\n          transform: translateY(-50%);\n          color: rgba(255, 255, 255, 0.6);\n          display: flex;\n          align-items: center;\n          pointer-events: none;\n        }\n\n        .input-icon svg {\n          width: 1.25rem;\n          height: 1.25rem;\n        }\n\n        input {\n          width: 100%;\n          padding: 0.75rem 1rem;\n          background: rgba(255, 255, 255, 0.05);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 0.75rem;\n          color: white;\n          font-size: 1rem;\n          transition: all 0.2s ease;\n        }\n\n        input::placeholder {\n          color: rgba(255, 255, 255, 0.6);\n        }\n\n        input:focus {\n          outline: none;\n          border-color: rgba(255, 255, 255, 0.25);\n          box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.25);\n        }\n\n        input[type=\"text\"] {\n          padding-left: 2.75rem;\n        }\n\n        .code-input {\n          text-align: center;\n          letter-spacing: 0.1em;\n          text-transform: uppercase;\n        }\n\n        .button {\n          width: 100%;\n          padding: 0.75rem 1.5rem;\n          border-radius: 0.75rem;\n          border: none;\n          font-weight: 600;\n          color: white;\n          font-size: 1rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        }\n\n        .button svg {\n          width: 1.25rem;\n          height: 1.25rem;\n        }\n\n        .create-button {\n          background: linear-gradient(to right, #22d3ee, #3b82f6);\n        }\n\n        .create-button:hover {\n          background: linear-gradient(to right, #06b6d4, #2563eb);\n          transform: scale(1.05);\n        }\n\n        .join-button {\n          background: linear-gradient(to right, #f43f5e, #e11d48);\n        }\n\n        .join-button:hover {\n          background: linear-gradient(to right, #e11d48, #be123c);\n          transform: scale(1.05);\n        }\n\n        .button:active {\n          transform: scale(0.95);\n        }\n\n        .divider {\n          display: flex;\n          align-items: center;\n          text-align: center;\n          color: rgba(255, 255, 255, 0.6);\n          font-size: 0.875rem;\n        }\n\n        .divider::before,\n        .divider::after {\n          content: '';\n          flex: 1;\n          border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n        .divider span {\n          margin: 0 1rem;\n        }\n\n        .footer {\n          text-align: center;\n          color: rgba(255, 255, 255, 0.6);\n          font-size: 0.875rem;\n          margin-top: 1.5rem;\n        }\n\n        @media (max-width: 640px) {\n          .card {\n            padding: 1.5rem;\n          }\n\n          .header h1 {\n            font-size: 2rem;\n          }\n\n          .game-icon {\n            width: 2rem;\n            height: 2rem;\n          }\n        }\n      "})]})}}},function(e){e.O(0,[574,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);